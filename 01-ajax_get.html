<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<!--
			AJAX请求步骤:
				1.创建xhr对象
				var xhr;
				
				2.捕获异常(处理兼容)
				try{
					xhr = new XMLHttpRequest();
				}catch(e){
					xhr = ActiveXObject('Microsoft.XMLHTTP');
				}
				
				3. 打开连接
				xhr.open('GET', 'https://www.easy-mock.com/mock/5ba06ec82ee5a7654dc13dd7/example/maoyanfilm', true);	//method url isAsync是否异步
				
				4.发送请求
				xhr.send();
				
				5.监听响应状态
				xhr.onreadystatechange = function(){
					if(xhr.readyState == 4 && xhr.status == 200){	//响应成功
						var data = JSON.parse(xhr.responseText);
						console.log(data);
					}
				}
		-->
		<button type="button">请求数据</button>
		<script type="text/javascript">
			
			var oBtn = document.getElementsByTagName("button")[0];
			
			oBtn.onclick = function(){
				// 1.创建xhr对象
				var xhr;
				// 2.捕获异常(处理兼容)
				try{
					xhr = new XMLHttpRequest();
				}catch(e){
					xhr = new ActiveXObject('Microsoft.XMLHTTP');
				}
				// 3. 打开连接
				xhr.open('GET', 'https://www.easy-mock.com/mock/5ba06ec82ee5a7654dc13dd7/example/maoyanfilm', true);	//method url isAsync是否异步
				// xhr.open('GET', '../../../../data.json', true);	//method url isAsync是否异步
				
				// 4.发送请求
				xhr.send();
				
				// 5.监听响应状态
				xhr.onreadystatechange = function(){
					if(xhr.readyState == 4 && xhr.status == 200){	//响应成功
						var data = JSON.parse(xhr.responseText);
						console.log(data.movieList[0].nm);
					}
				}
			}
			
		</script>
	</body>
</html>
